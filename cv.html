<!DOCTYPE html>
<html lang="ar" dir="rtl" id="main-html">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta property="og:title" content="Ahmed Amer - CV">
    <link rel="icon" type="image/jpg" href="profile.jpg">
    
    <title>Ahmed Mohamed Salah Amer - Civil Engineer</title>
    
    <style>
        /* FONTS */
        @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800&family=Roboto:wght@300;400;500;700&display=swap');

        /* RESET & BASICS */
        * { box-sizing: border-box; }

        :root {
            /* PALETTE */
            --primary-color: #1e2a38; 
            --secondary-color: #4682b4; 
            --accent-color: #4682b4;
            --accent-light: #6ba3d1;
            
            --text-color: #2c3e50;
            --text-light: #555;
            --bg-color: #f0f4f8; 
            --container-bg: #fff;
            --border-color: #e0e0e0;
            --shadow: rgba(0,0,0,0.08);
            --header-border: #1e2a38;
            --grid-line: rgba(30, 42, 56, 0.06);
            --gradient-start: rgba(70, 130, 180, 0.05);
            --gradient-end: rgba(70, 130, 180, 0.02);
        }

        /* Dark Theme */
        [data-theme="dark"] {
            --primary-color: #90caf9;
            --secondary-color: #64b5f6;
            --accent-color: #64b5f6;
            --accent-light: #42a5f5;
            --text-color: #e0e0e0;
            --text-light: #bbbbbb;
            --bg-color: #121212;
            --container-bg: #1e1e1e;
            --border-color: #333;
            --header-border: #90caf9;
            --grid-line: rgba(255, 255, 255, 0.05);
            --gradient-start: rgba(100, 181, 246, 0.08);
            --gradient-end: rgba(100, 181, 246, 0.03);
        }

        body {
            background-color: var(--bg-color);
            background-image: 
                linear-gradient(135deg, var(--gradient-start) 0%, var(--gradient-end) 100%),
                linear-gradient(var(--grid-line) 1px, transparent 1px),
                linear-gradient(90deg, var(--grid-line) 1px, transparent 1px);
            background-size: 100% 100%, 25px 25px, 25px 25px;
            color: var(--text-color);
            margin: 0;
            padding: 60px 20px;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            font-family: 'Tajawal', sans-serif;
            -webkit-font-smoothing: antialiased;
            transition: background-color 0.15s ease;
        }

        /* CV CONTAINER */
        .cv-container {
            max-width: 210mm;
            width: 100%;
            background: var(--container-bg);
            padding: 50px 60px;
            box-shadow: 0 15px 35px var(--shadow), 
                        0 5px 15px rgba(70, 130, 180, 0.1); 
            border-top: 6px solid var(--header-border);
            border-radius: 8px; 
            position: relative;
            margin-bottom: 50px;
            animation: fadeInUp 0.6s ease-out;
            transition: all 0.15s ease;
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* CONTROLS */
        .controls {
            position: fixed;
            top: 20px; left: 20px; z-index: 1000;
            display: flex; gap: 10px;
            animation: fadeIn 0.6s ease-out 0.3s backwards;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .btn-float {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--accent-color) 100%); 
            color: #fff;
            border: none;
            padding: 12px 22px; 
            border-radius: 30px;
            cursor: pointer;
            font-family: inherit;
            font-weight: 700;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            display: flex; align-items: center; gap: 8px;
            font-size: 14px;
            transition: all 0.15s ease;
        }

        .btn-float:hover {
            transform: translateY(-2px) scale(1.03); 
            box-shadow: 0 6px 15px rgba(0,0,0,0.3);
        }

        .btn-float:active {
            transform: translateY(0) scale(0.98);
        }

        .theme-btn {
            background: var(--container-bg) !important; 
            color: var(--primary-color);
            border: 2px solid var(--primary-color);
            padding: 10px; 
            width: 50px; 
            height: 50px;
            justify-content: center;
        }

        .theme-btn:hover {
            transform: scale(1.1) rotate(20deg); 
            border-color: var(--accent-color);
        }

        /* TEXT & SECTIONS */
        .cv-ar { font-family: 'Tajawal', sans-serif; line-height: 1.8; }
        .cv-en { font-family: 'Roboto', sans-serif; line-height: 1.7; display: none; }

        header { 
            text-align: center; 
            margin-bottom: 40px; 
            border-bottom: 2px solid var(--border-color); 
            padding-bottom: 25px;
            animation: fadeIn 0.6s ease-out 0.4s backwards;
        }
        
        h1 { 
            color: var(--primary-color); 
            margin: 0 0 10px 0; 
            font-size: 36px; 
            text-transform: uppercase; 
            font-weight: 800;
            transition: color 0.15s ease;
        }
        
        .job-role { 
            font-size: 22px; 
            color: var(--secondary-color); 
            font-weight: 700; 
            margin-bottom: 15px; 
            display: block;
            transition: color 0.15s ease;
        }
        
        .contact-info { 
            font-size: 16px; 
            color: var(--text-light); 
            display: flex; 
            justify-content: center; 
            gap: 20px; 
            flex-wrap: wrap; 
            font-weight: 500;
        }
        
        .contact-info a { 
            text-decoration: none; 
            color: inherit;
            transition: color 0.15s ease, transform 0.15s ease;
            display: inline-block;
        }
        
        .contact-info a:hover {
            color: var(--accent-color);
            transform: translateY(-2px);
        }
        
        .contact-info i { 
            color: var(--primary-color); 
            margin: 0 5px;
            transition: transform 0.15s ease;
        }
        
        .contact-info a:hover i {
            transform: scale(1.2) rotate(5deg);
        }

        .section { 
            margin-bottom: 40px;
            animation: fadeIn 0.6s ease-out backwards;
        }
        
        .section:nth-of-type(1) { animation-delay: 0.5s; }
        .section:nth-of-type(2) { animation-delay: 0.6s; }
        .section:nth-of-type(3) { animation-delay: 0.7s; }
        .section:nth-of-type(4) { animation-delay: 0.8s; }
        
        h2 { 
            color: var(--primary-color); 
            font-size: 24px; 
            border-bottom: 3px solid var(--primary-color); 
            padding-bottom: 8px; 
            margin-bottom: 20px; 
            display: flex; 
            align-items: center; 
            text-transform: uppercase; 
            font-weight: 800;
            background: linear-gradient(to right, var(--primary-color) 0%, transparent 100%);
            background-position: bottom;
            background-size: 100% 3px;
            background-repeat: no-repeat;
            border-bottom: none;
            transition: all 0.15s ease;
        }
        
        h2 i { 
            color: var(--secondary-color); 
            font-size: 22px; 
            margin: 0 10px;
            transition: transform 0.15s ease;
        }
        
        h2:hover i {
            transform: scale(1.1) rotate(5deg);
        }
        
        p { 
            margin-bottom: 15px; 
            text-align: justify; 
            font-size: 18px; 
            color: var(--text-color);
            font-weight: 500;
            transition: color 0.15s ease;
        }

        .item { 
            margin-bottom: 25px;
            padding: 15px;
            border-radius: 8px;
            transition: all 0.15s ease;
        }
        
        .item:hover {
            background-color: var(--gradient-start);
            transform: translateX(-5px);
        }
        
        .item-header { 
            display: flex; 
            justify-content: space-between; 
            align-items: baseline; 
            margin-bottom: 8px; 
        }
        
        .item-title { 
            font-size: 20px; 
            font-weight: 700; 
            color: var(--text-color);
            transition: color 0.15s ease;
        }
        
        .date-badge { 
            font-size: 14px; 
            font-weight: 700; 
            color: #fff; 
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--accent-color) 100%);
            padding: 6px 14px; 
            border-radius: 20px; 
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
            transition: all 0.15s ease;
        }
        
        .date-badge:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        .institution { 
            font-size: 18px; 
            font-weight: 600; 
            color: var(--secondary-color);
            transition: color 0.15s ease;
        }
        
        .details { 
            margin-top: 8px; 
            font-size: 17px; 
            color: var(--text-color); 
            font-weight: 500;
            line-height: 1.6;
            transition: color 0.15s ease;
        }
        
        .grade-highlight {
            color: var(--primary-color);
            font-weight: 700;
        }

        ul { margin: 0; list-style: none; }
        
        li { 
            position: relative; 
            margin-bottom: 12px; 
            font-size: 18px; 
            color: var(--text-color); 
            font-weight: 500;
            transition: all 0.15s ease;
            padding-right: 5px;
        }
        
        li:hover {
            transform: translateX(-3px);
            color: var(--primary-color);
        }
        
        .cv-ar ul { padding-right: 25px; }
        .cv-ar ul li::before { 
            content: "●"; 
            color: var(--secondary-color); 
            position: absolute; 
            right: -20px; 
            font-size: 18px;
            transition: transform 0.15s ease;
        }
        
        li:hover::before {
            transform: scale(1.3);
        }
        
        .cv-en ul { padding-left: 25px; }
        .cv-en ul li::before { 
            content: "●"; 
            color: var(--secondary-color); 
            position: absolute; 
            left: -20px; 
            font-size: 18px;
        }

        .grid-container { 
            display: grid; 
            grid-template-columns: 1fr 1fr; 
            gap: 40px; 
        }
        
        .grid-col h3 { 
            font-size: 20px; 
            color: var(--secondary-color); 
            margin-bottom: 15px; 
            border-bottom: 2px dotted var(--border-color); 
            padding-bottom: 8px;
            font-weight: 700;
            transition: all 0.15s ease;
        }
        
        .grid-col h3:hover {
            border-bottom-color: var(--accent-color);
            color: var(--accent-light);
        }

        /* Footer Actions */
        .footer-actions {
            margin-top: 60px;
            padding-top: 30px;
            border-top: 2px solid var(--border-color);
            display: flex;
            justify-content: center;
            gap: 20px;
            animation: fadeIn 0.6s ease-out 0.9s backwards;
        }

        .footer-btn {
            display: inline-flex; 
            align-items: center; 
            gap: 10px;
            text-decoration: none;
            background-color: var(--bg-color);
            color: var(--primary-color);
            padding: 16px 38px; 
            border-radius: 10px; 
            font-weight: 700;
            border: 2px solid var(--border-color);
            transition: all 0.15s ease;
            font-size: 16px;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        
        .footer-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(70, 130, 180, 0.2), transparent);
            transition: left 0.5s ease;
        }
        
        .footer-btn:hover::before {
            left: 100%;
        }
        
        .footer-btn:hover {
            background-color: var(--primary-color);
            color: #fff;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px var(--shadow);
        }
        
        .footer-btn:active {
            transform: translateY(-1px);
        }
        
        .footer-btn.primary {
            background: linear-gradient(135deg, var(--secondary-color) 0%, var(--accent-light) 100%); 
            color: #fff;
            border-color: var(--secondary-color);
        }
        
        .footer-btn.primary:hover {
            transform: translateY(-3px) scale(1.03);
            box-shadow: 0 8px 25px rgba(70, 130, 180, 0.4);
        }
        
        .footer-btn i {
            transition: transform 0.15s ease;
        }
        
        .footer-btn:hover i {
            transform: scale(1.2) rotate(5deg);
        }

        /* Responsive */
        @media (max-width: 600px) {
            .grid-container { grid-template-columns: 1fr; }
            .cv-container { 
                padding: 30px 20px;
                border-radius: 0;
            }
            .item-header { flex-direction: column; gap: 5px; }
            .controls { 
                top: 10px; 
                left: 10px; 
                flex-direction: column; 
            }
            .footer-actions {
                flex-direction: column;
                gap: 15px;
            }
            .footer-btn {
                width: 100%;
                justify-content: center;
            }
        }

        /* THEME TRANSITIONS */
        * {
            transition: background-color 0.15s ease, color 0.15s ease, border-color 0.15s ease;
        }

        .no-transition * {
            transition: none !important;
        }

        /* PRINT STYLES */
        @media print {
            @page {
                size: A4;
                margin: 10mm;
            }

            :root {
                --primary-color: #1e2a38 !important; 
                --secondary-color: #4682b4 !important; 
                --accent-color: #4682b4 !important;
                --text-color: #2c3e50 !important;
                --text-light: #555 !important;
                --bg-color: #fff !important; 
                --container-bg: #fff !important;
                --border-color: #e0e0e0 !important;
                --header-border: #1e2a38 !important;
            }

            body {
                background: white !important;
                color: black !important;
                margin: 0;
                padding: 0;
                zoom: 90%;
                min-height: 0 !important;
                -webkit-print-color-adjust: exact !important;
                print-color-adjust: exact !important;
            }

            .cv-container { 
                box-shadow: none !important; 
                border: none !important; 
                margin: 0 auto; 
                width: 100%; 
                max-width: 100%; 
                padding: 0 !important; 
                border-top: 2px solid #1e2a38 !important;
                border-radius: 0 !important;
                animation: none !important;
                background: white !important;
            }

            .controls, .footer-actions { display: none !important; }
            
            .date-badge { 
                color: #000 !important; 
                border: 1px solid #000 !important; 
                background: none !important; 
                box-shadow: none !important;
            }
            
            a { 
                text-decoration: none !important; 
                color: #000 !important; 
            }
            
            .item, li, p, h2 { 
                page-break-inside: avoid; 
                break-inside: avoid; 
                color: #000 !important;
            }
            
            .item:hover,
            li:hover,
            .footer-btn:hover,
            h2:hover,
            .contact-info a:hover {
                transform: none !important;
                background-color: transparent !important;
            }

            .print-break { 
                page-break-before: always; 
                break-before: page;
                margin-top: 20px;
                display: block;
            }
            
            * {
                animation: none !important;
                transition: none !important;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>

    <div class="controls">
        <button class="btn-float lang-toggle-btn" onclick="toggleLanguage()" aria-label="Toggle Language">
            <i class="fas fa-globe"></i> <span id="btn-text">Switch to English</span>
        </button>
        <button class="btn-float theme-btn" onclick="toggleTheme()" aria-label="Toggle Dark Mode">
            <i class="fas fa-moon" id="theme-icon"></i>
        </button>
    </div>

    <div class="cv-container">
        
        <div id="cv-ar" class="cv-ar">
            <header>
                <h1>أحمد محمد صلاح عامر</h1>
                <span class="job-role">Civil Engineer | مهندس مدني</span>
                <div class="contact-info">
                    <span>الشرقية، مصر <i class="fas fa-map-marker-alt"></i></span>
                    <span dir="ltr">01012489813 <i class="fas fa-phone-alt"></i></span>
                    
                    <span>
                        engahmedmohammed00@gmail.com 
                        <i class="fas fa-envelope"></i>
                    </span>

                    <a href="https://linkedin.com/in/ahmedmohammed00" target="_blank" rel="noopener noreferrer">in/ahmedmohammed00 <i class="fab fa-linkedin"></i></a>
                </div>
            </header>

            <div class="section">
                <h2>الملخص المهني <i class="fas fa-user-tie"></i></h2>
                <p>
                    مهندس مدني حديث التخرج (دفعة 2024 – جامعة الزقازيق) بخبرة تدريبية عملية في شركات إنشاءات محترمة. أمتلك أساساً قوياً في قراءة اللوحات الإنشائية، متابعة أعمال الخرسانة، وإجراءات مراقبة الجودة الأساسية تحت الإشراف. أسعى للحصول على منصب Junior Site Engineer لاكتساب خبرة تنفيذ عملية.
                </p>
            </div>

            <div class="section">
                <h2>المؤهل الدراسي <i class="fas fa-graduation-cap"></i></h2>
                <div class="item">
                    <div class="item-header">
                        <span class="item-title">بكالوريوس الهندسة المدنية</span>
                        <span class="date-badge">2024</span>
                    </div>
                    <div class="institution">جامعة الزقازيق</div>
                    <div class="details">
                        <strong>مشروع التخرج:</strong> الهيدرولوجيا والموارد المائية (تقدير: <span class="grade-highlight">ممتاز</span>) <br>
                        <strong>التقدير العام:</strong> <span class="grade-highlight">جيد</span>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>التدريب العملي <i class="fas fa-briefcase"></i></h2>
                <div class="item">
                    <div class="item-header">
                        <span class="item-title">المقاولون العرب</span>
                        <span class="date-badge">مهندس موقع متدرب</span>
                    </div>
                    <ul>
                        <li>المساعدة في الإشراف على أعمال الخرسانة المسلحة.</li>
                        <li>المشاركة في فحص الحديد والشدات الخشبية.</li>
                        <li>حضور اختبارات جودة الخرسانة (Slump وعينات المكعبات).</li>
                    </ul>
                </div>

                <div class="item print-break">
                    <div class="item-header">
                        <span class="item-title">شركة القناة لتوزيع الكهرباء</span>
                        <span class="date-badge">مهندس موقع متدرب </span>
                    </div>
                    <ul>
                        <li>المساعدة في أعمال التشطيبات المعمارية.</li>
                        <li>دعم مهام حصر الكميات.</li>
                        <li>التنسيق مع فرق الصيانة الكهربائية.</li>
                    </ul>
                </div>
            </div>

            <div class="section">
                <h2>المهارات والدورات <i class="fas fa-tools"></i></h2>
                <div class="grid-container">
                    <div class="grid-col">
                        <h3>المهارات التقنية واللغات</h3>
                        <ul>
                            <li>قراءة اللوحات الإنشائية.</li>
                            <li>أساسيات المكتب الفني (حصر الكميات).</li>
                            <li>AutoCAD (2D) & MS Office.</li>
                            <li><strong>الإنجليزية:</strong> إتقان ممتاز (Excellent).</li>
                        </ul>
                    </div>
                    <div class="grid-col">
                        <h3>الشهادات والدورات</h3>
                        <ul>
                            <li><strong>دورة تنفيذ المنشآت:</strong> د. حسن قنديل (شاملة التصميم).</li>
                            <li><strong>دورة AutoCAD:</strong> رسم معماري ثنائي الأبعاد.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <div id="cv-en" class="cv-en">
            <header>
                <h1>Ahmed Mohamed Salah Amer</h1>
                <span class="job-role">Civil Engineer</span>
                <div class="contact-info">
                    <span><i class="fas fa-map-marker-alt"></i> Sharkia, Egypt</span>
                    <span><i class="fas fa-phone-alt"></i> +20 101 248 9813</span>
                    
                    <span>
                        <i class="fas fa-envelope"></i> 
                        engahmedmohammed00@gmail.com
                    </span>

                    <a href="https://linkedin.com/in/ahmedmohammed00" target="_blank" rel="noopener noreferrer"><i class="fab fa-linkedin"></i> in/ahmedmohammed00</a>
                </div>
            </header>

            <div class="section">
                <h2><i class="fas fa-user-tie"></i> Professional Summary</h2>
                <p>
                    Fresh Graduate Civil Engineer (Class of 2024 – Zagazig University) with practical site training experience in reputable construction companies. Possess a solid foundation in reading construction drawings, following up concrete works, and basic quality control procedures under supervision. Seeking a Junior Site Engineer position to gain hands-on execution experience.
                </p>
            </div>

            <div class="section">
                <h2><i class="fas fa-graduation-cap"></i> Education</h2>
                <div class="item">
                    <div class="item-header">
                        <span class="item-title">Bachelor of Civil Engineering</span>
                        <span class="date-badge">2024</span>
                    </div>
                    <div class="institution">Zagazig University</div>
                    <div class="details">
                        <strong>Graduation Project:</strong> Hydrology & Water Resources (Grade: <span class="grade-highlight">Excellent</span>) <br>
                        <strong>General Grade:</strong> <span class="grade-highlight">Good</span>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2><i class="fas fa-briefcase"></i> Practical Training</h2>
                <div class="item">
                    <div class="item-header">
                        <span class="item-title">Arab Contractors</span>
                        <span class="date-badge">Site Engineer Trainee</span>
                    </div>
                    <ul>
                        <li>Assisted in supervising reinforced concrete works.</li>
                        <li>Participated in rebar and formwork inspections.</li>
                        <li>Attended concrete quality tests.</li>
                    </ul>
                </div>

                <div class="item print-break">
                    <div class="item-header">
                        <span class="item-title">Canal Electricity Distribution Company</span>
                        <span class="date-badge">Site Engineer Trainee</span>
                    </div>
                    <ul>
                        <li>Assisted in architectural finishing works.</li>
                        <li>Supported quantity takeoff tasks.</li>
                        <li>Coordinated with electrical maintenance teams.</li>
                    </ul>
                </div>
            </div>

            <div class="section">
                <h2><i class="fas fa-tools"></i> Skills & Courses</h2>
                <div class="grid-container">
                    <div class="grid-col">
                        <h3>Technical Skills & Languages</h3>
                        <ul>
                            <li>Reading construction drawings.</li>
                            <li>Technical Office Basics (Quantity Surveying).</li>
                            <li>AutoCAD (2D) & MS Office.</li>
                            <li><strong>English:</strong> Excellent Proficiency.</li>
                        </ul>
                    </div>
                    <div class="grid-col">
                        <h3>Certifications</h3>
                        <ul>
                            <li><strong>Construction Execution Course:</strong> Dr. Hassan Kandil.</li>
                            <li><strong>AutoCAD Course:</strong> 2D Drafting.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <div class="footer-actions">
            <button onclick="window.print()" class="footer-btn primary" aria-label="Print or Save as PDF">
                <i class="fas fa-file-pdf"></i> <span id="txt-pdf">حفظ PDF / طباعة</span>
            </button>

            <a href="index.html" class="footer-btn" id="btn-back" aria-label="Back to Home">
                <i class="fas fa-home"></i> <span id="txt-back">العودة للرئيسية</span>
            </a>
        </div>

    </div>

    <script>
        // PREVENT TRANSITION FLASH ON PAGE LOAD
        document.body.classList.add('no-transition');

        // --- JavaScript Logic Fixed for Robustness ---
        
        function setLanguage(lang) {
            // Re-fetch elements inside function to ensure they exist
            const htmlTag = document.getElementById('main-html');
            const arDiv = document.getElementById('cv-ar');
            const enDiv = document.getElementById('cv-en');
            const btnText = document.getElementById('btn-text');
            const txtPdf = document.getElementById('txt-pdf');
            const txtBack = document.getElementById('txt-back');
            const controls = document.querySelector('.controls');

            if (!arDiv || !enDiv) return; // Guard clause

            if (lang === 'ar') {
                // Switch to Arabic
                arDiv.style.display = 'block';
                enDiv.style.display = 'none';
                htmlTag.setAttribute('dir', 'rtl');
                if(btnText) btnText.innerText = "Switch to English";
                if(controls) {
                    controls.style.left = '20px'; 
                    controls.style.right = 'auto';
                }
                if(txtPdf) txtPdf.innerText = "حفظ PDF / طباعة";
                if(txtBack) txtBack.innerText = "العودة للرئيسية";
                localStorage.setItem('lang', 'ar');
            } else {
                // Switch to English
                arDiv.style.display = 'none';
                enDiv.style.display = 'block';
                htmlTag.setAttribute('dir', 'ltr');
                if(btnText) btnText.innerText = "التبديل للعربية";
                if(controls) {
                    controls.style.right = '20px'; 
                    controls.style.left = 'auto';
                }
                if(txtPdf) txtPdf.innerText = "Save as PDF / Print";
                if(txtBack) txtBack.innerText = "Back to Home";
                localStorage.setItem('lang', 'en');
            }
        }

        function toggleLanguage() {
            const currentLang = localStorage.getItem('lang') || 'ar';
            const newLang = currentLang === 'ar' ? 'en' : 'ar';
            setLanguage(newLang);
        }

        function toggleTheme() {
            const html = document.documentElement;
            const icon = document.getElementById('theme-icon');
            
            if (html.getAttribute('data-theme') === 'dark') {
                html.removeAttribute('data-theme');
                localStorage.setItem('theme', 'light');
                if(icon) icon.className = 'fas fa-moon';
            } else {
                html.setAttribute('data-theme', 'dark');
                localStorage.setItem('theme', 'dark');
                if(icon) icon.className = 'fas fa-sun';
            }
        }

        // --- INITIALIZATION ---
        window.addEventListener('load', () => {
            // 1. Load Saved Theme
            const savedTheme = localStorage.getItem('theme');
            const icon = document.getElementById('theme-icon');
            if (savedTheme === 'dark') {
                document.documentElement.setAttribute('data-theme', 'dark');
                if(icon) icon.className = 'fas fa-sun';
            }

            // 2. Load Saved Language
            const savedLang = localStorage.getItem('lang');
            if (savedLang) {
                setLanguage(savedLang);
            } else {
                // Default to Arabic if nothing saved
                setLanguage('ar');
            }
            
            // 3. Enable Transitions
            setTimeout(() => {
                document.body.classList.remove('no-transition');
            }, 100);
        });
    </script>
</body>
</html>